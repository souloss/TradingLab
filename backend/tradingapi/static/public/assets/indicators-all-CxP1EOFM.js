import{q as Yi,p as Fi}from"./index-BqnQO_M6.js";function Xi(se,Pe){for(var I=0;I<Pe.length;I++){const W=Pe[I];if(typeof W!="string"&&!Array.isArray(W)){for(const j in W)if(j!=="default"&&!(j in se)){const ae=Object.getOwnPropertyDescriptor(W,j);ae&&Object.defineProperty(se,j,ae.get?ae:{enumerable:!0,get:()=>W[j]})}}}return Object.freeze(Object.defineProperty(se,Symbol.toStringTag,{value:"Module"}))}var ta={exports:{}};(function(se,Pe){(function(I,W){se.exports=W(I._Highcharts,I._Highcharts.Chart,I._Highcharts.SeriesRegistry,I._Highcharts.dataGrouping.approximations,I._Highcharts.Color)})(typeof window>"u"?Fi:window,(I,W,j,ae,aa)=>(()=>{var Me,oa={512:f=>{f.exports=j},620:f=>{f.exports=aa},944:f=>{f.exports=I},956:f=>{f.exports=ae},960:f=>{f.exports=W}},mt={};function k(f){var e=mt[f];if(e!==void 0)return e.exports;var s=mt[f]={exports:{}};return oa[f](s,s.exports,k),s.exports}k.n=f=>{var e=f&&f.__esModule?()=>f.default:()=>f;return k.d(e,{a:e}),e},k.d=(f,e)=>{for(var s in e)k.o(e,s)&&!k.o(f,s)&&Object.defineProperty(f,s,{enumerable:!0,get:e[s]})},k.o=(f,e)=>Object.prototype.hasOwnProperty.call(f,e);var gt={};k.d(gt,{default:()=>Wi});var ia=k(944),C=k.n(ia),ra=k(960),na=k.n(ra),la=k(512),v=k.n(la);let{line:yt}=v().seriesTypes,{addEvent:pe,fireEvent:pa,error:ua,extend:ha,isArray:ft,merge:da,pick:ca}=C(),xt=(f,e)=>{let s=[],t=f.pointArrayMap,a=e&&f.dataTable.modified||f.dataTable;if(!t)return f.getColumn("y",e);let o=t.map(d=>f.getColumn(d,e));for(let d=0;d<a.rowCount;d++){let r=t.map((l,u)=>{var i;return((i=o[u])==null?void 0:i[d])||0});s.push(r)}return s};class Ve extends yt{destroy(){this.dataEventsToUnbind.forEach(function(e){e()}),super.destroy.apply(this,arguments)}getName(){let e=[],s=this.name;return s||((this.nameComponents||[]).forEach(function(t,a){e.push(this.options.params[t]+ca(this.nameSuffixes[a],""))},this),s=(this.nameBase||this.type.toUpperCase())+(this.nameComponents?" ("+e.join(", ")+")":"")),s}getValues(e,s){let t=s.period,a=e.xData||[],o=e.yData,d=o.length,r=[],l=[],u=[],i,p=-1,h=0,n,c=0;if(!(a.length<t)){for(ft(o[0])&&(p=s.index?s.index:0);h<t-1;)c+=p<0?o[h]:o[h][p],h++;for(i=h;i<d;i++)c+=p<0?o[i]:o[i][p],n=[a[i],c/t],r.push(n),l.push(n[0]),u.push(n[1]),c-=p<0?o[i-h]:o[i-h][p];return{values:r,xData:l,yData:u}}}init(e,s){let t=this;super.init.call(t,e,s);let a=pe(na(),"afterLinkSeries",function({isUpdating:o}){if(o)return;let d=!!t.dataEventsToUnbind.length;if(!t.linkedParent)return ua("Series "+t.options.linkedTo+" not found! Check `linkedTo`.",!1,e);if(!d&&(t.dataEventsToUnbind.push(pe(t.linkedParent,"updatedData",function(){t.recalculateValues()})),t.calculateOn.xAxis&&t.dataEventsToUnbind.push(pe(t.linkedParent.xAxis,t.calculateOn.xAxis,function(){t.recalculateValues()}))),t.calculateOn.chart==="init")t.closestPointRange||t.recalculateValues();else if(!d){let r=pe(t.chart,t.calculateOn.chart,function(){t.recalculateValues(),r()})}},{order:0});t.dataEventsToUnbind=[],t.eventsToUnbind.push(a)}recalculateValues(){var m;let e=[],s=this.dataTable,t=this.points||[],a=this.dataTable.rowCount,o=!0,d,r,l,u,i=this.linkedParent.yData,p=this.linkedParent.processedYData;this.linkedParent.xData=this.linkedParent.getColumn("x"),this.linkedParent.yData=xt(this.linkedParent),this.linkedParent.processedYData=xt(this.linkedParent,!0);let h=this.linkedParent.options&&this.linkedParent.dataTable.rowCount&&this.getValues(this.linkedParent,this.options.params)||{values:[],xData:[],yData:[]};delete this.linkedParent.xData,this.linkedParent.yData=i,this.linkedParent.processedYData=p;let n=this.pointArrayMap||["y"],c={};if(h.yData.forEach(y=>{n.forEach((g,x)=>{let D=c[g]||[];D.push(ft(y)?y[x]:y),c[g]||(c[g]=D)})}),a&&!this.hasGroupedData&&this.visible&&this.points)if(this.cropped){this.xAxis&&(l=this.xAxis.min,u=this.xAxis.max);let y=this.cropData(s,l,u),g=["x",...this.pointArrayMap||["y"]];for(let D=0;D<(((m=y.modified)==null?void 0:m.rowCount)||0);D++){let A=g.map(S=>this.getColumn(S)[D]||0);e.push(A)}let x=this.getColumn("x");d=h.xData.indexOf(x[0]),r=h.xData.indexOf(x[x.length-1]),d===-1&&r===h.xData.length-2&&e[0][0]===t[0].x&&e.shift(),this.updateData(e)}else(this.updateAllPoints||h.xData.length!==a-1&&h.xData.length!==a+1)&&(o=!1,this.updateData(h.values));o&&(s.setColumns({...c,x:h.xData}),this.options.data=h.values),this.calculateOn.xAxis&&this.getColumn("x",!0).length&&(this.isDirty=!0,this.redraw()),this.isDirtyData=!!this.linkedSeries.length,pa(this,"updatedData")}processData(){let e=this.options.compareToMain,s=this.linkedParent;super.processData.apply(this,arguments),this.dataModify&&s&&s.dataModify&&s.dataModify.compareValue&&e&&(this.dataModify.compareValue=s.dataModify.compareValue)}}Ve.defaultOptions=da(yt.defaultOptions,{name:void 0,tooltip:{valueDecimals:4},linkedTo:void 0,compareToMain:!1,params:{index:3,period:14}}),ha(Ve.prototype,{calculateOn:{chart:"init"},hasDerivedData:!0,nameComponents:["period"],nameSuffixes:[],useCommonDataGrouping:!0}),v().registerSeriesType("sma",Ve);let{sma:Dt}=v().seriesTypes,{correctFloat:ma,isArray:ga,merge:ya}=C();class vt extends Dt{accumulatePeriodPoints(e,s,t){let a=0,o=0;for(;o<e;)a+=s<0?t[o]:t[o][s],o++;return a}calculateEma(e,s,t,a,o,d,r){let l=e[t-1],u=d<0?s[t-1]:s[t-1][d];return[l,o===void 0?r:ma(u*a+o*(1-a))]}getValues(e,s){let t=s.period,a=e.xData,o=e.yData,d=o?o.length:0,r=2/(t+1),l=[],u=[],i=[],p,h,n,c=-1,m=0;if(!(d<t)){for(ga(o[0])&&(c=s.index?s.index:0),m=this.accumulatePeriodPoints(t,c,o)/t,n=t;n<d+1;n++)h=this.calculateEma(a,o,n,r,p,c,m),l.push(h),u.push(h[0]),i.push(h[1]),p=h[1];return{values:l,xData:u,yData:i}}}}vt.defaultOptions=ya(Dt.defaultOptions,{params:{index:3,period:9}}),v().registerSeriesType("ema",vt);let{sma:At}=v().seriesTypes,{error:fa,extend:xa,merge:Da}=C();class Q extends At{static populateAverage(e,s,t,a,o){let d=s[a][1],r=s[a][2],l=s[a][3],u=t[a],i=l===d&&l===r||d===r?0:(2*l-r-d)/(d-r)*u;return[e[a],i]}getValues(e,s){let t,a,o,d=s.period,r=e.xData,l=e.yData,u=s.volumeSeriesID,i=e.chart.get(u),p=i==null?void 0:i.getColumn("y"),h=l?l.length:0,n=[],c=[],m=[];if(!(r.length<=d)||!h||l[0].length===4){if(!i)return void fa("Series "+u+" not found! Check `volumeSeriesID`.",!0,e.chart);for(a=d;a<h;a++)t=n.length,o=Q.populateAverage(r,l,p,a,d),t>0&&(o[1]+=n[t-1][1]),n.push(o),c.push(o[0]),m.push(o[1]);return{values:n,xData:c,yData:m}}}}Q.defaultOptions=Da(At.defaultOptions,{params:{index:void 0,volumeSeriesID:"volume"}}),xa(Q.prototype,{nameComponents:!1,nameBase:"Accumulation/Distribution"}),v().registerSeriesType("ad",Q);let{noop:va}=C(),{column:{prototype:ue},sma:St}=v().seriesTypes,{extend:Aa,merge:Sa,correctFloat:Z,isArray:ba}=C();class Oe extends St{drawGraph(){let e,s=this.options,t=this.points,a=this.userOptions.color,o=s.greaterBarColor,d=s.lowerBarColor,r=t[0];if(!a&&r)for(e=1,r.color=o;e<t.length;e++)t[e].y>t[e-1].y?t[e].color=o:t[e].y<t[e-1].y?t[e].color=d:t[e].color=t[e-1].color}getValues(e){let s=e.xData||[],t=e.yData||[],a=t.length,o=[],d=[],r=[],l,u,i,p,h,n,c=0,m=0;if(!(s.length<=34)&&ba(t[0])&&t[0].length===4){for(h=0;h<33;h++)p=(t[h][1]+t[h][2])/2,h>=29&&(m=Z(m+p)),c=Z(c+p);for(n=33;n<a;n++)m=Z(m+(p=(t[n][1]+t[n][2])/2)),c=Z(c+p),l=Z(m/5-c/34),o.push([s[n],l]),d.push(s[n]),r.push(l),u=n+1-5,i=n+1-34,m=Z(m-(t[u][1]+t[u][2])/2),c=Z(c-(t[i][1]+t[i][2])/2);return{values:o,xData:d,yData:r}}}}Oe.defaultOptions=Sa(St.defaultOptions,{params:{index:void 0,period:void 0},greaterBarColor:"#06b535",lowerBarColor:"#f21313",threshold:0,groupPadding:.2,pointPadding:.2,crisp:!1,states:{hover:{halo:{size:0}}}}),Aa(Oe.prototype,{nameBase:"AO",nameComponents:void 0,markerAttribs:va,getColumnMetrics:ue.getColumnMetrics,crispCol:ue.crispCol,translate:ue.translate,drawPoints:ue.drawPoints}),v().registerSeriesType("ao",Oe);let{sma:{prototype:_}}=v().seriesTypes,{defined:Ca,error:bt,merge:Ct}=C();(function(f){let e=["bottomLine"],s=["top","bottom"],t=["top"];function a(i){return"plot"+i.charAt(0).toUpperCase()+i.slice(1)}function o(i,p){let h=[];return(i.pointArrayMap||[]).forEach(n=>{n!==p&&h.push(a(n))}),h}function d(){let i=this,p=i.pointValKey,h=i.linesApiNames,n=i.areaLinesNames,c=i.points,m=i.options,y=i.graph,g={options:{gapSize:m.gapSize}},x=[],D=o(i,p),A=c.length,S;if(D.forEach((b,P)=>{for(x[P]=[];A--;)S=c[A],x[P].push({x:S.x,plotX:S.plotX,plotY:S[b],isNull:!Ca(S[b])});A=c.length}),i.userOptions.fillColor&&n.length){let b=x[D.indexOf(a(n[0]))],P=n.length===1?c:x[D.indexOf(a(n[1]))],T=i.color;i.points=P,i.nextPoints=b,i.color=i.userOptions.fillColor,i.options=Ct(c,g),i.graph=i.area,i.fillGraph=!0,_.drawGraph.call(i),i.area=i.graph,delete i.nextPoints,delete i.fillGraph,i.color=T}h.forEach((b,P)=>{x[P]?(i.points=x[P],m[b]?i.options=Ct(m[b].styles,g):bt('Error: "There is no '+b+' in DOCS options declared. Check if linesApiNames are consistent with your DOCS line names."'),i.graph=i["graph"+b],_.drawGraph.call(i),i["graph"+b]=i.graph):bt('Error: "'+b+` doesn't have equivalent in pointArrayMap. To many elements in linesApiNames relative to pointArrayMap."`)}),i.points=c,i.options=m,i.graph=y,_.drawGraph.call(i)}function r(i){let p,h=[],n=[];if(i=i||this.points,this.fillGraph&&this.nextPoints){if((p=_.getGraphPath.call(this,this.nextPoints))&&p.length){p[0][0]="L",h=_.getGraphPath.call(this,i),n=p.slice(0,h.length);for(let c=n.length-1;c>=0;c--)h.push(n[c])}}else h=_.getGraphPath.apply(this,arguments);return h}function l(i){let p=[];return(this.pointArrayMap||[]).forEach(h=>{p.push(i[h])}),p}function u(){let i=this.pointArrayMap,p=[],h;p=o(this),_.translate.apply(this,arguments),this.points.forEach(n=>{i.forEach((c,m)=>{h=n[c],this.dataModify&&(h=this.dataModify.modifyValue(h)),h!==null&&(n[p[m]]=this.yAxis.toPixels(h,!0))})})}f.compose=function(i){let p=i.prototype;return p.linesApiNames=p.linesApiNames||e.slice(),p.pointArrayMap=p.pointArrayMap||s.slice(),p.pointValKey=p.pointValKey||"top",p.areaLinesNames=p.areaLinesNames||t.slice(),p.drawGraph=d,p.getGraphPath=r,p.toYData=l,p.translate=u,i}})(Me||(Me={}));let N=Me,{sma:Tt}=v().seriesTypes,{extend:Ta,merge:Pa,pick:Pt}=C();function Mt(f,e){let s=f[0],t=0,a;for(a=1;a<f.length;a++)(e==="max"&&f[a]>=s||e==="min"&&f[a]<=s)&&(s=f[a],t=a);return t}class he extends Tt{getValues(e,s){let t,a,o,d,r,l=s.period,u=e.xData,i=e.yData,p=i?i.length:0,h=[],n=[],c=[];for(d=l-1;d<p;d++)o=Mt((r=i.slice(d-l+1,d+2)).map(function(m){return Pt(m[2],m)}),"min"),t=Mt(r.map(function(m){return Pt(m[1],m)}),"max")/l*100,a=o/l*100,u[d+1]&&(h.push([u[d+1],t,a]),n.push(u[d+1]),c.push([t,a]));return{values:h,xData:n,yData:c}}}he.defaultOptions=Pa(Tt.defaultOptions,{params:{index:void 0,period:25},marker:{enabled:!1},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>Aroon Up: {point.y}<br/>Aroon Down: {point.aroonDown}<br/>'},aroonDown:{styles:{lineWidth:1,lineColor:void 0}},dataGrouping:{approximation:"averages"}}),Ta(he.prototype,{areaLinesNames:[],linesApiNames:["aroonDown"],nameBase:"Aroon",pointArrayMap:["y","aroonDown"],pointValKey:"y"}),N.compose(he),v().registerSeriesType("aroon",he);let{aroon:ke}=v().seriesTypes,{extend:Ma,merge:Va}=C();class Le extends ke{getValues(e,s){let t,a,o=[],d=[],r=[],l=super.getValues.call(this,e,s);for(a=0;a<l.yData.length;a++)t=l.yData[a][0]-l.yData[a][1],o.push([l.xData[a],t]),d.push(l.xData[a]),r.push(t);return{values:o,xData:d,yData:r}}}Le.defaultOptions=Va(ke.defaultOptions,{tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b>: {point.y}'}}),Ma(Le.prototype,{nameBase:"Aroon Oscillator",linesApiNames:[],pointArrayMap:["y"],pointValKey:"y"}),N.compose(ke),v().registerSeriesType("aroonoscillator",Le);let{sma:Vt}=v().seriesTypes,{isArray:Oa,merge:ka}=C();function Ot(f,e){let s=f[1]-f[2];return Math.max(s,e===void 0?0:Math.abs(f[1]-e[3]),e===void 0?0:Math.abs(f[2]-e[3]))}class kt extends Vt{getValues(e,s){let t=s.period,a=e.xData,o=e.yData,d=o?o.length:0;a[0],o[0];let r=[],l=[],u=[],i,p,h=0,n=1,c=0;if(!(a.length<=t)&&Oa(o[0])&&o[0].length===4){for(p=1;p<=d;p++){var m,y,g,x,D,A=p;a[A],o[A],t<n?(h=(m=a,y=o,g=p,x=t,D=h,i=[m[g-1],(D*(x-1)+Ot(y[g-1],y[g-2]))/x])[1],r.push(i),l.push(i[0]),u.push(i[1])):(t===n?(h=c/(p-1),r.push([a[p-1],h]),l.push(a[p-1]),u.push(h)):c+=Ot(o[p-1],o[p-2]),n++)}return{values:r,xData:l,yData:u}}}}kt.defaultOptions=ka(Vt.defaultOptions,{params:{index:void 0}}),v().registerSeriesType("atr",kt);let{sma:Lt}=v().seriesTypes,{extend:La,isArray:Ea,merge:Et}=C();class de extends Lt{init(){v().seriesTypes.sma.prototype.init.apply(this,arguments),this.options=Et({topLine:{styles:{lineColor:this.color}},bottomLine:{styles:{lineColor:this.color}}},this.options)}getValues(e,s){let t,a,o,d,r,l,u,i,p,h=s.period,n=s.standardDeviation,c=[],m=[],y=e.xData,g=e.yData,x=g?g.length:0,D=[];if(y.length<h)return;let A=Ea(g[0]);for(p=h;p<=x;p++)r=y.slice(p-h,p),l=g.slice(p-h,p),d=(i=v().seriesTypes.sma.prototype.getValues.call(this,{xData:r,yData:l},s)).xData[0],t=i.yData[0],u=function(S,b,P,T){let E=S.length,L=0,B,M=0;for(;L<E;L++)M+=(B=(P?S[L][b]:S[L])-T)*B;return Math.sqrt(M/=E-1)}(l,s.index,A,t),a=t+n*u,o=t-n*u,D.push([d,a,t,o]),c.push(d),m.push([a,t,o]);return{values:D,xData:c,yData:m}}}de.defaultOptions=Et(Lt.defaultOptions,{params:{period:20,standardDeviation:2,index:3},bottomLine:{styles:{lineWidth:1,lineColor:void 0}},topLine:{styles:{lineWidth:1,lineColor:void 0}},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>Top: {point.top}<br/>Middle: {point.middle}<br/>Bottom: {point.bottom}<br/>'},marker:{enabled:!1},dataGrouping:{approximation:"averages"}}),La(de.prototype,{areaLinesNames:["top","bottom"],linesApiNames:["topLine","bottomLine"],nameComponents:["period","standardDeviation"],pointArrayMap:["top","middle","bottom"],pointValKey:"middle"}),N.compose(de),v().registerSeriesType("bb",de);let{sma:wt}=v().seriesTypes,{isArray:wa,merge:Ia}=C();class It extends wt{getValues(e,s){let t=s.period,a=e.xData,o=e.yData,d=o?o.length:0,r=[],l=[],u=[],i=[],p,h,n=[],c,m=1,y,g,x,D;if(!(a.length<=t)&&wa(o[0])&&o[0].length===4){for(;m<t;)h=o[m-1],r.push((h[1]+h[2]+h[3])/3),m++;for(D=t;D<=d;D++)g=((h=o[D-1])[1]+h[2]+h[3])/3,c=r.push(g),y=(n=r.slice(c-t)).reduce(function(A,S){return A+S},0)/t,x=function(A,S){let b=A.length,P=0,T;for(T=0;T<b;T++)P+=Math.abs(S-A[T]);return P}(n,y)/t,p=(g-y)/(.015*x),l.push([a[D-1],p]),u.push(a[D-1]),i.push(p);return{values:l,xData:u,yData:i}}}}It.defaultOptions=Ia(wt.defaultOptions,{params:{index:void 0}}),v().registerSeriesType("cci",It);let{sma:Nt}=v().seriesTypes,{merge:Na}=C();class Bt extends Nt{constructor(){super(...arguments),this.nameBase="Chaikin Money Flow"}isValid(){var r;let e=this.chart,s=this.options,t=this.linkedParent,a=this.volumeSeries||(this.volumeSeries=e.get(s.params.volumeSeriesID)),o=((r=t==null?void 0:t.pointArrayMap)==null?void 0:r.length)===4;function d(l){return l.dataTable.rowCount>=s.params.period}return!!(t&&a&&d(t)&&d(a)&&o)}getValues(e,s){if(this.isValid())return this.getMoneyFlow(e.xData,e.yData,this.volumeSeries.getColumn("y"),s.period)}getMoneyFlow(e,s,t,a){let o=s.length,d=[],r=[],l=[],u=[],i,p,h=-1,n=0,c=0;function m(y,g){let x=y[1],D=y[2],A=y[3];return g!==null&&x!==null&&D!==null&&A!==null&&x!==D?(A-D-(x-A))/(x-D)*g:(h=i,null)}if(a>0&&a<=o){for(i=0;i<a;i++)d[i]=m(s[i],t[i]),n+=t[i],c+=d[i];for(r.push(e[i-1]),l.push(i-h>=a&&n!==0?c/n:null),u.push([r[0],l[0]]);i<o;i++)d[i]=m(s[i],t[i]),n-=t[i-a],n+=t[i],c-=d[i-a],c+=d[i],p=[e[i],i-h>=a?c/n:null],r.push(p[0]),l.push(p[1]),u.push([p[0],p[1]])}return{values:u,xData:r,yData:l}}}Bt.defaultOptions=Na(Nt.defaultOptions,{params:{index:void 0,volumeSeriesID:"volume"}}),v().registerSeriesType("cmf",Bt);let{sma:Gt}=v().seriesTypes,{correctFloat:ce,extend:Ba,isArray:Ga,merge:za}=C();class me extends Gt{calculateDM(e,s,t){let a=e[s][1],o=e[s][2],d=e[s-1][1],r=e[s-1][2];return ce(a-d>r-o?t?Math.max(a-d,0):0:t?0:Math.max(r-o,0))}calculateDI(e,s){return e/s*100}calculateDX(e,s){return ce(Math.abs(e-s)/Math.abs(e+s)*100)}smoothValues(e,s,t){return ce(e-e/t+s)}getTR(e,s){return ce(Math.max(e[1]-e[2],s?Math.abs(e[1]-s[3]):0,s?Math.abs(e[2]-s[3]):0))}getValues(e,s){let t=s.period,a=e.xData,o=e.yData,d=o?o.length:0,r=[],l=[],u=[];if(a.length<=t||!Ga(o[0])||o[0].length!==4)return;let i=0,p=0,h=0,n;for(n=1;n<d;n++){let c,m,y,g,x,D,A,S,b;n<=t?(g=this.calculateDM(o,n,!0),x=this.calculateDM(o,n),D=this.getTR(o[n],o[n-1]),i+=g,p+=x,h+=D,n===t&&(A=this.calculateDI(i,h),S=this.calculateDI(p,h),b=this.calculateDX(i,p),r.push([a[n],b,A,S]),l.push(a[n]),u.push([b,A,S]))):(g=this.calculateDM(o,n,!0),x=this.calculateDM(o,n),D=this.getTR(o[n],o[n-1]),c=this.smoothValues(i,g,t),m=this.smoothValues(p,x,t),y=this.smoothValues(h,D,t),i=c,p=m,h=y,A=this.calculateDI(i,h),S=this.calculateDI(p,h),b=this.calculateDX(i,p),r.push([a[n],b,A,S]),l.push(a[n]),u.push([b,A,S]))}return{values:r,xData:l,yData:u}}}me.defaultOptions=za(Gt.defaultOptions,{params:{index:void 0},marker:{enabled:!1},tooltip:{pointFormat:'<span style="color: {point.color}">●</span><b> {series.name}</b><br/><span style="color: {point.color}">DX</span>: {point.y}<br/><span style="color: {point.series.options.plusDILine.styles.lineColor}">+DI</span>: {point.plusDI}<br/><span style="color: {point.series.options.minusDILine.styles.lineColor}">-DI</span>: {point.minusDI}<br/>'},plusDILine:{styles:{lineWidth:1,lineColor:"#06b535"}},minusDILine:{styles:{lineWidth:1,lineColor:"#f21313"}},dataGrouping:{approximation:"averages"}}),Ba(me.prototype,{areaLinesNames:[],nameBase:"DMI",linesApiNames:["plusDILine","minusDILine"],pointArrayMap:["y","plusDI","minusDI"],parallelArrays:["x","y","plusDI","minusDI"],pointValKey:"y"}),N.compose(me),v().registerSeriesType("dmi",me);let{sma:zt}=v().seriesTypes,{extend:Wa,merge:Ya,correctFloat:Wt,pick:Yt}=C();function Ee(f,e,s,t,a){let o=Yt(e[s][t],e[s]);return Wt(a?f-o:f+o)}class we extends zt{getValues(e,s){let t=s.period,a=s.index,o=Math.floor(t/2+1),d=t+o,r=e.xData||[],l=e.yData||[],u=l.length,i=[],p=[],h=[],n,c,m,y,g,x=0;if(!(r.length<=d)){for(y=0;y<t-1;y++)x=Ee(x,l,y,a);for(g=0;g<=u-d;g++)c=g+t-1,m=g+d-1,x=Ee(x,l,c,a),n=Yt(l[m][a],l[m])-x/t,x=Ee(x,l,g,a,!0),i.push([r[m],n]),p.push(r[m]),h.push(n);return{values:i,xData:p,yData:h}}}}we.defaultOptions=Ya(zt.defaultOptions,{params:{index:0,period:21}}),Wa(we.prototype,{nameBase:"DPO"}),v().registerSeriesType("dpo",we);let{ema:Ft}=v().seriesTypes,{correctFloat:Fa,extend:Xa,merge:Ra,error:Ka}=C();class Ie extends Ft{getValues(e,s){let t,a,o=s.periods,d=s.period,r=[],l=[],u=[];if(o.length!==2||o[1]<=o[0])return void Ka('Error: "Chaikin requires two periods. Notice, first period should be lower than the second one."');let i=Q.prototype.getValues.call(this,e,{volumeSeriesID:s.volumeSeriesID,period:d});if(!i)return;let p=super.getValues.call(this,i,{period:o[0]}),h=super.getValues.call(this,i,{period:o[1]});if(!p||!h)return;let n=o[1]-o[0];for(a=0;a<h.yData.length;a++)t=Fa(p.yData[a+n]-h.yData[a]),r.push([h.xData[a],t]),l.push(h.xData[a]),u.push(t);return{values:r,xData:l,yData:u}}}Ie.defaultOptions=Ra(Ft.defaultOptions,{params:{index:void 0,volumeSeriesID:"volume",period:9,periods:[3,10]}}),Xa(Ie.prototype,{nameBase:"Chaikin Osc",nameComponents:["periods"]}),v().registerSeriesType("chaikin",Ie);let{sma:Xt}=v().seriesTypes,{isNumber:Ua,merge:ja}=C();class Rt extends Xt{getValues(e,s){let t=s.period,a=e.xData,o=e.yData,d=o?o.length:0,r=[],l=[],u=[],i,p=s.index,h;if(a.length<t)return;Ua(o[0])?h=o:(p=Math.min(p,o[0].length-1),h=o.map(g=>g[p]));let n=0,c=0,m=0,y;for(let g=t;g>0;g--)h[g]>h[g-1]?c+=h[g]-h[g-1]:h[g]<h[g-1]&&(m+=h[g-1]-h[g]);for(y=c+m>0?100*(c-m)/(c+m):0,l.push(a[t]),u.push(y),r.push([a[t],y]),i=t+1;i<d;i++)n=Math.abs(h[i-t-1]-h[i-t]),h[i]>h[i-1]?c+=h[i]-h[i-1]:h[i]<h[i-1]&&(m+=h[i-1]-h[i]),h[i-t]>h[i-t-1]?c-=n:m-=n,y=c+m>0?100*(c-m)/(c+m):0,l.push(a[i]),u.push(y),r.push([a[i],y]);return{values:r,xData:l,yData:u}}}Rt.defaultOptions=ja(Xt.defaultOptions,{params:{period:20,index:3}}),v().registerSeriesType("cmo",Rt);let{ema:Kt}=v().seriesTypes,{correctFloat:Za,isArray:_a,merge:Ha}=C();class Ut extends Kt{getEMA(e,s,t,a,o,d){return super.calculateEma(d||[],e,o===void 0?1:o,this.EMApercent,s,a===void 0?-1:a,t)}getValues(e,s){let t=s.period,a=[],o=2*t,d=e.xData,r=e.yData,l=r?r.length:0,u=[],i=[],p=[],h=0,n=0,c,m,y,g,x=-1,D,A=0;if(this.EMApercent=2/(t+1),!(l<2*t-1)){for(_a(r[0])&&(x=s.index?s.index:0),A=(h=super.accumulatePeriodPoints(t,x,r))/t,h=0,g=t;g<l+2;g++)g<l+1&&(n=this.getEMA(r,m,A,x,g)[1],a.push(n)),m=n,g<o?h+=n:(g===o&&(A=h/t),n=a[g-t-1],c=this.getEMA([n],y,A)[1],D=[d[g-2],Za(2*n-c)],u.push(D),i.push(D[0]),p.push(D[1]),y=c);return{values:u,xData:i,yData:p}}}}Ut.defaultOptions=Ha(Kt.defaultOptions),v().registerSeriesType("dema",Ut);let{ema:jt}=v().seriesTypes,{correctFloat:$a,isArray:qa,merge:Ja}=C();class Zt extends jt{getEMA(e,s,t,a,o,d){return super.calculateEma(d||[],e,o===void 0?1:o,this.EMApercent,s,a===void 0?-1:a,t)}getTemaPoint(e,s,t,a){return[e[a-3],$a(3*t.level1-3*t.level2+t.level3)]}getValues(e,s){let t=s.period,a=2*t,o=3*t,d=e.xData,r=e.yData,l=r?r.length:0,u=[],i=[],p=[],h=[],n=[],c={},m=-1,y=0,g=0,x,D,A,S;if(this.EMApercent=2/(t+1),!(l<3*t-2)){for(qa(r[0])&&(m=s.index?s.index:0),g=(y=super.accumulatePeriodPoints(t,m,r))/t,y=0,A=t;A<l+3;A++)A<l+1&&(c.level1=this.getEMA(r,x,g,m,A)[1],h.push(c.level1)),x=c.level1,A<a?y+=c.level1:(A===a&&(g=y/t,y=0),c.level1=h[A-t-1],c.level2=this.getEMA([c.level1],D,g)[1],n.push(c.level2),D=c.level2,A<o?y+=c.level2:(A===o&&(g=y/t),A===l+1&&(c.level1=h[A-t-1],c.level2=this.getEMA([c.level1],D,g)[1],n.push(c.level2)),c.level1=h[A-t-2],c.level2=n[A-2*t-1],c.level3=this.getEMA([c.level2],c.prevLevel3,g)[1],(S=this.getTemaPoint(d,o,c,A))&&(u.push(S),i.push(S[0]),p.push(S[1])),c.prevLevel3=c.level3));return{values:u,xData:i,yData:p}}}}Zt.defaultOptions=Ja(jt.defaultOptions),v().registerSeriesType("tema",Zt);let{tema:_t}=v().seriesTypes,{correctFloat:Qa,merge:eo}=C();class Ht extends _t{getTemaPoint(e,s,t,a){if(a>s)return[e[a-3],t.prevLevel3!==0?Qa(t.level3-t.prevLevel3)/t.prevLevel3*100:null]}}Ht.defaultOptions=eo(_t.defaultOptions),v().registerSeriesType("trix",Ht);let{ema:$t}=v().seriesTypes,{extend:to,merge:so,error:ao}=C();class Ne extends $t{getValues(e,s){let t,a,o=s.periods,d=s.index,r=[],l=[],u=[];if(o.length!==2||o[1]<=o[0])return void ao('Error: "APO requires two periods. Notice, first period should be lower than the second one."');let i=super.getValues.call(this,e,{index:d,period:o[0]}),p=super.getValues.call(this,e,{index:d,period:o[1]});if(!i||!p)return;let h=o[1]-o[0];for(a=0;a<p.yData.length;a++)t=i.yData[a+h]-p.yData[a],r.push([p.xData[a],t]),l.push(p.xData[a]),u.push(t);return{values:r,xData:l,yData:u}}}Ne.defaultOptions=so($t.defaultOptions,{params:{period:void 0,periods:[10,20]}}),to(Ne.prototype,{nameBase:"APO",nameComponents:["periods"]}),v().registerSeriesType("apo",Ne);var oo=k(956),qt=k.n(oo),io=k(620);let{parse:Be}=k.n(io)(),{sma:Jt}=v().seriesTypes,{defined:ro,extend:no,isArray:lo,isNumber:po,getClosestDistance:uo,merge:ge,objectEach:ho}=C();function Ge(f){return{high:f.reduce(function(e,s){return Math.max(e,s[1])},-1/0),low:f.reduce(function(e,s){return Math.min(e,s[2])},1/0)}}function Qt(f){let e=f.indicator;e.points=f.points,e.nextPoints=f.nextPoints,e.color=f.color,e.options=ge(f.options.senkouSpan.styles,f.gap),e.graph=f.graph,e.fillGraph=!0,v().seriesTypes.sma.prototype.drawGraph.call(e)}class ze extends Jt{constructor(){super(...arguments),this.data=[],this.options={},this.points=[],this.graphCollection=[]}init(){super.init.apply(this,arguments),this.options=ge({tenkanLine:{styles:{lineColor:this.color}},kijunLine:{styles:{lineColor:this.color}},chikouLine:{styles:{lineColor:this.color}},senkouSpanA:{styles:{lineColor:this.color,fill:Be(this.color).setOpacity(.5).get()}},senkouSpanB:{styles:{lineColor:this.color,fill:Be(this.color).setOpacity(.5).get()}},senkouSpan:{styles:{fill:Be(this.color).setOpacity(.2).get()}}},this.options)}toYData(e){return[e.tenkanSen,e.kijunSen,e.chikouSpan,e.senkouSpanA,e.senkouSpanB]}translate(){for(let e of(v().seriesTypes.sma.prototype.translate.apply(this),this.points))for(let s of this.pointArrayMap){let t=e[s];po(t)&&(e["plot"+s]=this.yAxis.toPixels(t,!0),e.plotY=e["plot"+s],e.tooltipPos=[e.plotX,e["plot"+s]],e.isNull=!1)}}drawGraph(){let e=this,s=e.points,t=e.options,a=e.graph,o=e.color,d={options:{gapSize:t.gapSize}},r=e.pointArrayMap.length,l=[[],[],[],[],[],[]],u={tenkanLine:l[0],kijunLine:l[1],chikouLine:l[2],senkouSpanA:l[3],senkouSpanB:l[4],senkouSpan:l[5]},i=[],p=e.options.senkouSpan,h=p.color||p.styles.fill,n=p.negativeColor,c=[[],[]],m=[[],[]],y=s.length,g=0,x,D,A,S,b,P,T,E,L,B,M,X,G;for(e.ikhMap=u;y--;){for(A=0,D=s[y];A<r;A++)ro(D[x=e.pointArrayMap[A]])&&l[A].push({plotX:D.plotX,plotY:D["plot"+x],isNull:!1});if(n&&y!==s.length-1){let V=u.senkouSpanB.length-1,O=function(w,te,z,F){if(w&&te&&z&&F){let R=te.plotX-w.plotX,K=te.plotY-w.plotY,$=F.plotX-z.plotX,q=F.plotY-z.plotY,ne=w.plotX-z.plotX,J=w.plotY-z.plotY,le=(-K*ne+R*J)/(-$*K+R*q),U=($*J-q*ne)/(-$*K+R*q);if(le>=0&&le<=1&&U>=0&&U<=1)return{plotX:w.plotX+U*R,plotY:w.plotY+U*K}}}(u.senkouSpanA[V-1],u.senkouSpanA[V],u.senkouSpanB[V-1],u.senkouSpanB[V]);if(O){let w={plotX:O.plotX,plotY:O.plotY,isNull:!1,intersectPoint:!0};u.senkouSpanA.splice(V,0,w),u.senkouSpanB.splice(V,0,w),i.push(V)}}}if(ho(u,(V,O)=>{t[O]&&O!=="senkouSpan"&&(e.points=l[g],e.options=ge(t[O].styles,d),e.graph=e["graph"+O],e.fillGraph=!1,e.color=o,v().seriesTypes.sma.prototype.drawGraph.call(e),e["graph"+O]=e.graph),g++}),e.graphCollection)for(let V of e.graphCollection)e[V].destroy(),delete e[V];if(e.graphCollection=[],n&&u.senkouSpanA[0]&&u.senkouSpanB[0]){for(i.unshift(0),i.push(u.senkouSpanA.length-1),X=0;X<i.length-1;X++)if(S=i[X],b=i[X+1],P=u.senkouSpanB.slice(S,b+1),T=u.senkouSpanA.slice(S,b+1),Math.floor(P.length/2)>=1){let V=Math.floor(P.length/2);if(P[V].plotY===T[V].plotY){for(G=0,E=0,L=0;G<P.length;G++)E+=P[G].plotY,L+=T[G].plotY;c[M=E>L?0:1]=c[M].concat(P),m[M]=m[M].concat(T)}else c[M=P[V].plotY>T[V].plotY?0:1]=c[M].concat(P),m[M]=m[M].concat(T)}else c[M=P[0].plotY>T[0].plotY?0:1]=c[M].concat(P),m[M]=m[M].concat(T);["graphsenkouSpanColor","graphsenkouSpanNegativeColor"].forEach(function(V,O){c[O].length&&m[O].length&&(B=O===0?h:n,Qt({indicator:e,points:c[O],nextPoints:m[O],color:B,options:t,gap:d,graph:e[V]}),e[V]=e.graph,e.graphCollection.push(V))})}else Qt({indicator:e,points:u.senkouSpanB,nextPoints:u.senkouSpanA,color:h,options:t,gap:d,graph:e.graphsenkouSpan}),e.graphsenkouSpan=e.graph;delete e.nextPoints,delete e.fillGraph,e.points=s,e.options=t,e.graph=a,e.color=o}getGraphPath(e){let s=[],t,a=[];if(e=e||this.points,this.fillGraph&&this.nextPoints){if((t=v().seriesTypes.sma.prototype.getGraphPath.call(this,this.nextPoints))&&t.length){t[0][0]="L",s=v().seriesTypes.sma.prototype.getGraphPath.call(this,e),a=t.slice(0,s.length);for(let o=a.length-1;o>=0;o--)s.push(a[o])}}else s=v().seriesTypes.sma.prototype.getGraphPath.apply(this,arguments);return s}getValues(e,s){let t,a,o,d,r,l,u,i,p,h,n=s.period,c=s.periodTenkan,m=s.periodSenkouSpanB,y=e.xData,g=e.yData,x=e.xAxis,D=g&&g.length||0,A=uo(x.series.map(T=>T.getColumn("x"))),S=[],b=[];if(y.length<=n||!lo(g[0])||g[0].length!==4)return;let P=y[0]-n*A;for(r=0;r<n;r++)b.push(P+r*A);for(r=0;r<D;r++)r>=c&&(l=((a=Ge(g.slice(r-c,r))).high+a.low)/2),r>=n&&(p=(l+(u=((o=Ge(g.slice(r-n,r))).high+o.low)/2))/2),r>=m&&(h=((d=Ge(g.slice(r-m,r))).high+d.low)/2),i=g[r][3],t=y[r],S[r]===void 0&&(S[r]=[]),S[r+n-1]===void 0&&(S[r+n-1]=[]),S[r+n-1][0]=l,S[r+n-1][1]=u,S[r+n-1][2]=void 0,S[r+1]===void 0&&(S[r+1]=[]),S[r+1][2]=i,r<=n&&(S[r+n-1][3]=void 0,S[r+n-1][4]=void 0),S[r+2*n-2]===void 0&&(S[r+2*n-2]=[]),S[r+2*n-2][3]=p,S[r+2*n-2][4]=h,b.push(t);for(r=1;r<=n;r++)b.push(t+r*A);return{values:S,xData:b,yData:S}}}ze.defaultOptions=ge(Jt.defaultOptions,{params:{index:void 0,period:26,periodTenkan:9,periodSenkouSpanB:52},marker:{enabled:!1},tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>TENKAN SEN: {point.tenkanSen:.3f}<br/>KIJUN SEN: {point.kijunSen:.3f}<br/>CHIKOU SPAN: {point.chikouSpan:.3f}<br/>SENKOU SPAN A: {point.senkouSpanA:.3f}<br/>SENKOU SPAN B: {point.senkouSpanB:.3f}<br/>'},tenkanLine:{styles:{lineWidth:1,lineColor:void 0}},kijunLine:{styles:{lineWidth:1,lineColor:void 0}},chikouLine:{styles:{lineWidth:1,lineColor:void 0}},senkouSpanA:{styles:{lineWidth:1,lineColor:void 0}},senkouSpanB:{styles:{lineWidth:1,lineColor:void 0}},senkouSpan:{styles:{fill:"rgba(255, 0, 0, 0.5)"}},dataGrouping:{approximation:"ichimoku-averages"}}),no(ze.prototype,{pointArrayMap:["tenkanSen","kijunSen","chikouSpan","senkouSpanA","senkouSpanB"],pointValKey:"tenkanSen",nameComponents:["periodSenkouSpanB","period","periodTenkan"]}),qt()["ichimoku-averages"]=function(){let f,e=[];return[].forEach.call(arguments,function(s,t){e.push(qt().average(s)),f=!f&&e[t]===void 0}),f?void 0:e},v().registerSeriesType("ikh",ze);let{sma:es}=v().seriesTypes,{correctFloat:ts,extend:co,merge:ss}=C();class ye extends es{init(){v().seriesTypes.sma.prototype.init.apply(this,arguments),this.options=ss({topLine:{styles:{lineColor:this.color}},bottomLine:{styles:{lineColor:this.color}}},this.options)}getValues(e,s){let t,a,o,d,r,l,u,i=s.period,p=s.periodATR,h=s.multiplierATR,n=s.index,c=e.yData,m=c?c.length:0,y=[],g=v().seriesTypes.ema.prototype.getValues(e,{period:i,index:n}),x=v().seriesTypes.atr.prototype.getValues(e,{period:p}),D=[],A=[];if(!(m<i)){for(u=i;u<=m;u++)r=g.values[u-i],l=x.values[u-p],d=r[0],a=ts(r[1]+h*l[1]),o=ts(r[1]-h*l[1]),t=r[1],y.push([d,a,t,o]),D.push(d),A.push([a,t,o]);return{values:y,xData:D,yData:A}}}}ye.defaultOptions=ss(es.defaultOptions,{params:{index:0,period:20,periodATR:10,multiplierATR:2},bottomLine:{styles:{lineWidth:1,lineColor:void 0}},topLine:{styles:{lineWidth:1,lineColor:void 0}},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>Upper Channel: {point.top}<br/>EMA({series.options.params.period}): {point.middle}<br/>Lower Channel: {point.bottom}<br/>'},marker:{enabled:!1},dataGrouping:{approximation:"averages"},lineWidth:1}),co(ye.prototype,{nameBase:"Keltner Channels",areaLinesNames:["top","bottom"],nameComponents:["period","periodATR","multiplierATR"],linesApiNames:["topLine","bottomLine"],pointArrayMap:["top","middle","bottom"],pointValKey:"middle"}),N.compose(ye),v().registerSeriesType("keltnerchannels",ye);let{ema:as,sma:os}=v().seriesTypes,{correctFloat:We,error:mo,extend:go,isArray:yo,merge:fo}=C();class fe extends os{calculateTrend(e,s){return e[s][1]+e[s][2]+e[s][3]>e[s-1][1]+e[s-1][2]+e[s-1][3]?1:-1}isValidData(e){let s=this.chart,t=this.options,a=this.linkedParent,o=yo(e)&&e.length===4,d=this.volumeSeries||(this.volumeSeries=s.get(t.params.volumeSeriesID));return d||mo("Series "+t.params.volumeSeriesID+" not found! Check `volumeSeriesID`.",!0,a.chart),!!([a,d].every(function(r){return r&&r.dataTable.rowCount>=t.params.slowAvgPeriod})&&o)}getCM(e,s,t,a,o){return We(s+(t===a?e:o))}getDM(e,s){return We(e-s)}getVolumeForce(e){let s=[],t=0,a,o=1,d=0,r=e[0][1]-e[0][2],l=0,u;for(;o<e.length;o++)u=this.calculateTrend(e,o),a=this.getDM(e[o][1],e[o][2]),t=this.getCM(d,a,u,l,r),s.push([this.volumeSeries.getColumn("y")[o]*u*Math.abs(2*(a/t-1))*100]),l=u,d=t,r=a;return s}getEMA(e,s,t,a,o,d,r){return as.prototype.calculateEma(r||[],e,d===void 0?1:d,a,s,o===void 0?-1:o,t)}getSMA(e,s,t){return as.prototype.accumulatePeriodPoints(e,s,t)/e}getValues(e,s){let t=[],a=e.xData,o=e.yData,d=[],r=[],l=[],u,i=0,p=0,h,n,c,m=null;if(!this.isValidData(o[0]))return;let y=this.getVolumeForce(o),g=this.getSMA(s.fastAvgPeriod,0,y),x=this.getSMA(s.slowAvgPeriod,0,y),D=2/(s.fastAvgPeriod+1),A=2/(s.slowAvgPeriod+1);for(;i<o.length;i++)i>=s.fastAvgPeriod&&(n=p=this.getEMA(y,n,g,D,0,i,a)[1]),i>=s.slowAvgPeriod&&(c=h=this.getEMA(y,c,x,A,0,i,a)[1],l.push(u=We(p-h)),l.length>=s.signalPeriod&&(m=l.slice(-s.signalPeriod).reduce((S,b)=>S+b)/s.signalPeriod),t.push([a[i],u,m]),d.push(a[i]),r.push([u,m]));return{values:t,xData:d,yData:r}}}fe.defaultOptions=fo(os.defaultOptions,{params:{fastAvgPeriod:34,slowAvgPeriod:55,signalPeriod:13,volumeSeriesID:"volume"},signalLine:{styles:{lineWidth:1,lineColor:"#ff0000"}},dataGrouping:{approximation:"averages"},tooltip:{pointFormat:'<span style="color: {point.color}">●</span><b> {series.name}</b><br/><span style="color: {point.color}">Klinger</span>: {point.y}<br/><span style="color: {point.series.options.signalLine.styles.lineColor}">Signal</span>: {point.signal}<br/>'}}),go(fe.prototype,{areaLinesNames:[],linesApiNames:["signalLine"],nameBase:"Klinger",nameComponents:["fastAvgPeriod","slowAvgPeriod"],pointArrayMap:["y","signal"],parallelArrays:["x","y","signal"],pointValKey:"y"}),N.compose(fe),v().registerSeriesType("klinger",fe);let{noop:xo}=C(),{column:Ki,sma:is}=v().seriesTypes,{extend:Do,correctFloat:rs,defined:Y,merge:ns}=C();class Ye extends is{init(){v().seriesTypes.sma.prototype.init.apply(this,arguments);let e=this.color;this.options&&(Y(this.colorIndex)&&(this.options.signalLine&&this.options.signalLine.styles&&!this.options.signalLine.styles.lineColor&&(this.options.colorIndex=this.colorIndex+1,this.getCyclic("color",void 0,this.chart.options.colors),this.options.signalLine.styles.lineColor=this.color),this.options.macdLine&&this.options.macdLine.styles&&!this.options.macdLine.styles.lineColor&&(this.options.colorIndex=this.colorIndex+1,this.getCyclic("color",void 0,this.chart.options.colors),this.options.macdLine.styles.lineColor=this.color)),this.macdZones={zones:this.options.macdLine.zones,startIndex:0},this.signalZones={zones:this.macdZones.zones.concat(this.options.signalLine.zones),startIndex:this.macdZones.zones.length}),this.color=e}toYData(e){return[e.y,e.signal,e.MACD]}translate(){let e=this,s=["plotSignal","plotMACD"];C().seriesTypes.column.prototype.translate.apply(e),e.points.forEach(function(t){[t.signal,t.MACD].forEach(function(a,o){a!==null&&(t[s[o]]=e.yAxis.toPixels(a,!0))})})}destroy(){this.graph=null,this.graphmacd=this.graphmacd&&this.graphmacd.destroy(),this.graphsignal=this.graphsignal&&this.graphsignal.destroy(),v().seriesTypes.sma.prototype.destroy.apply(this,arguments)}drawGraph(){let e=this,s=e.points,t=e.options,a=e.zones,o={options:{gapSize:t.gapSize}},d=[[],[]],r,l=s.length;for(;l--;)Y((r=s[l]).plotMACD)&&d[0].push({plotX:r.plotX,plotY:r.plotMACD,isNull:!Y(r.plotMACD)}),Y(r.plotSignal)&&d[1].push({plotX:r.plotX,plotY:r.plotSignal,isNull:!Y(r.plotMACD)});["macd","signal"].forEach((u,i)=>{var p;e.points=d[i],e.options=ns(((p=t[`${u}Line`])==null?void 0:p.styles)||{},o),e.graph=e[`graph${u}`],e.zones=(e[`${u}Zones`].zones||[]).slice(e[`${u}Zones`].startIndex||0),v().seriesTypes.sma.prototype.drawGraph.call(e),e[`graph${u}`]=e.graph}),e.points=s,e.options=t,e.zones=a}applyZones(){let e=this.zones;this.zones=this.signalZones.zones,v().seriesTypes.sma.prototype.applyZones.call(this),this.graphmacd&&this.options.macdLine.zones.length&&this.graphmacd.hide(),this.zones=e}getValues(e,s){let t=s.longPeriod-s.shortPeriod,a=[],o=[],d=[],r,l,u,i=0,p=[];if(!(e.xData.length<s.longPeriod+s.signalPeriod)){for(u=0,r=v().seriesTypes.ema.prototype.getValues(e,{period:s.shortPeriod,index:s.index}),l=v().seriesTypes.ema.prototype.getValues(e,{period:s.longPeriod,index:s.index}),r=r.values,l=l.values;u<=r.length;u++)Y(l[u])&&Y(l[u][1])&&Y(r[u+t])&&Y(r[u+t][0])&&a.push([r[u+t][0],0,null,r[u+t][1]-l[u][1]]);for(u=0;u<a.length;u++)o.push(a[u][0]),d.push([0,null,a[u][3]]);for(u=0,p=(p=v().seriesTypes.ema.prototype.getValues({xData:o,yData:d},{period:s.signalPeriod,index:2})).values;u<a.length;u++)a[u][0]>=p[0][0]&&(a[u][2]=p[i][1],d[u]=[0,p[i][1],a[u][3]],a[u][3]===null?(a[u][1]=0,d[u][0]=0):(a[u][1]=rs(a[u][3]-p[i][1]),d[u][0]=rs(a[u][3]-p[i][1])),i++);return{values:a,xData:o,yData:d}}}}Ye.defaultOptions=ns(is.defaultOptions,{params:{shortPeriod:12,longPeriod:26,signalPeriod:9,period:26},signalLine:{zones:[],styles:{lineWidth:1,lineColor:void 0}},macdLine:{zones:[],styles:{lineWidth:1,lineColor:void 0}},threshold:0,groupPadding:.1,pointPadding:.1,crisp:!1,states:{hover:{halo:{size:0}}},tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>Value: {point.MACD}<br/>Signal: {point.signal}<br/>Histogram: {point.y}<br/>'},dataGrouping:{approximation:"averages"},minPointLength:0}),Do(Ye.prototype,{nameComponents:["longPeriod","shortPeriod","signalPeriod"],pointArrayMap:["y","signal","MACD"],parallelArrays:["x","y","signal","MACD"],pointValKey:"y",markerAttribs:xo,getColumnMetrics:C().seriesTypes.column.prototype.getColumnMetrics,crispCol:C().seriesTypes.column.prototype.crispCol,drawPoints:C().seriesTypes.column.prototype.drawPoints}),v().registerSeriesType("macd",Ye);let{sma:ls}=v().seriesTypes,{extend:vo,merge:Ao,error:So,isArray:bo}=C();function ps(f){return f.reduce(function(e,s){return e+s})}function Fe(f){return(f[1]+f[2]+f[3])/3}class Xe extends ls{getValues(e,s){let t=s.period,a=e.xData,o=e.yData,d=o?o.length:0,r=s.decimals,l=e.chart.get(s.volumeSeriesID),u=(l==null?void 0:l.getColumn("y"))||[],i=[],p=[],h=[],n=[],c=[],m,y,g,x,D,A,S=!1,b=1;if(!l)return void So("Series "+s.volumeSeriesID+" not found! Check `volumeSeriesID`.",!0,e.chart);if(!(a.length<=t)&&bo(o[0])&&o[0].length===4&&u){for(m=Fe(o[b]);b<t+1;)y=m,S=(m=Fe(o[b]))>=y,g=m*u[b],n.push(S?g:0),c.push(S?0:g),b++;for(A=b-1;A<d;A++){var P;A>b-1&&(n.shift(),c.shift(),y=m,S=(m=Fe(o[A]))>y,g=m*u[A],n.push(S?g:0),c.push(S?0:g)),x=ps(c),P=100-100/(1+ps(n)/x),D=parseFloat(P.toFixed(r)),i.push([a[A],D]),p.push(a[A]),h.push(D)}return{values:i,xData:p,yData:h}}}}Xe.defaultOptions=Ao(ls.defaultOptions,{params:{index:void 0,volumeSeriesID:"volume",decimals:4}}),vo(Xe.prototype,{nameBase:"Money Flow Index"}),v().registerSeriesType("mfi",Xe);let{sma:us}=v().seriesTypes,{extend:Co,isArray:To,merge:Po}=C();function hs(f,e,s,t,a){let o=e[s-1][a]-e[s-t-1][a];return[f[s-1],o]}class Re extends us{getValues(e,s){let t,a,o=s.period,d=s.index,r=e.xData,l=e.yData,u=l?l.length:0,i=[],p=[],h=[];if(!(r.length<=o)&&To(l[0])){for(t=o+1;t<u;t++)a=hs(r,l,t,o,d),i.push(a),p.push(a[0]),h.push(a[1]);return a=hs(r,l,t,o,d),i.push(a),p.push(a[0]),h.push(a[1]),{values:i,xData:p,yData:h}}}}Re.defaultOptions=Po(us.defaultOptions,{params:{index:3}}),Co(Re.prototype,{nameBase:"Momentum"}),v().registerSeriesType("momentum",Re);let{atr:ds}=v().seriesTypes,{merge:Mo}=C();class cs extends ds{getValues(e,s){let t=super.getValues.apply(this,arguments),a=t.values.length,o=e.yData,d=0,r=s.period-1;if(t){for(;d<a;d++)t.yData[d]=t.values[d][1]/o[r][3]*100,t.values[d][1]=t.yData[d],r++;return t}}}cs.defaultOptions=Mo(ds.defaultOptions,{tooltip:{valueSuffix:"%"}}),v().registerSeriesType("natr",cs);let{sma:ms}=v().seriesTypes,{isNumber:Vo,error:Oo,extend:ko,merge:Lo}=C();class Ke extends ms{getValues(e,s){let t=e.chart.get(s.volumeSeriesID),a=e.xData,o=e.yData,d=[],r=[],l=[],u=!Vo(o[0]),i=[],p=1,h=0,n=0,c=0,m=0,y;if(!t)return void Oo("Series "+s.volumeSeriesID+" not found! Check `volumeSeriesID`.",!0,e.chart);for(y=t.getColumn("y"),i=[a[0],h],c=u?o[0][3]:o[0],d.push(i),r.push(a[0]),l.push(i[1]);p<o.length;p++)n=(m=u?o[p][3]:o[p])>c?h+y[p]:m===c?h:h-y[p],i=[a[p],n],h=n,c=m,d.push(i),r.push(a[p]),l.push(i[1]);return{values:d,xData:r,yData:l}}}Ke.defaultOptions=Lo(ms.defaultOptions,{marker:{enabled:!1},params:{index:void 0,period:void 0,volumeSeriesID:"volume"},tooltip:{valueDecimals:0}}),ko(Ke.prototype,{nameComponents:void 0}),v().registerSeriesType("obv",Ke);let Eo=v().seriesTypes.sma.prototype.pointClass;function gs(f,e){let s=f.series.pointArrayMap,t,a=s.length;for(v().seriesTypes.sma.prototype.pointClass.prototype[e].call(f);a--;)f[t="dataLabel"+s[a]]&&f[t].element&&f[t].destroy(),f[t]=null}let{sma:ys}=v().seriesTypes,{merge:wo,extend:Io,defined:fs,isArray:No}=C();class Ue extends ys{toYData(e){return[e.P]}translate(){let e=this;super.translate.apply(e),e.points.forEach(function(s){e.pointArrayMap.forEach(function(t){fs(s[t])&&(s["plot"+t]=e.yAxis.toPixels(s[t],!0))})}),e.plotEndPoint=e.xAxis.toPixels(e.endPoint,!0)}getGraphPath(e){let s=this,t=[[],[],[],[],[],[],[],[],[]],a=s.pointArrayMap.length,o=s.plotEndPoint,d=[],r,l,u=e.length,i;for(;u--;){for(i=0,l=e[u];i<a;i++)fs(l[r=s.pointArrayMap[i]])&&t[i].push({plotX:l.plotX,plotY:l["plot"+r],isNull:!1},{plotX:o,plotY:l["plot"+r],isNull:!1},{plotX:o,plotY:null,isNull:!0});o=l.plotX}return t.forEach(p=>{d=d.concat(super.getGraphPath.call(s,p))}),d}drawDataLabels(){let e,s,t,a,o=this,d=o.pointArrayMap;o.options.dataLabels.enabled&&(s=o.points.length,d.concat([!1]).forEach((r,l)=>{for(a=s;a--;)t=o.points[a],r?(t.y=t[r],t.pivotLine=r,t.plotY=t["plot"+r],e=t["dataLabel"+r],l&&(t["dataLabel"+d[l-1]]=t.dataLabel),t.dataLabels||(t.dataLabels=[]),t.dataLabels[0]=t.dataLabel=e=e&&e.element?e:null):t["dataLabel"+d[l-1]]=t.dataLabel;super.drawDataLabels.call(o)}))}getValues(e,s){let t,a,o,d,r,l,u,i=s.period,p=e.xData,h=e.yData,n=h?h.length:0,c=this[s.algorithm+"Placement"],m=[],y=[],g=[];if(!(p.length<i)&&No(h[0])&&h[0].length===4){for(u=i+1;u<=n+i;u+=i)o=p.slice(u-i-1,u),d=h.slice(u-i-1,u),a=o.length,t=o[a-1],l=c(this.getPivotAndHLC(d)),r=m.push([t].concat(l)),y.push(t),g.push(m[r-1].slice(1));return this.endPoint=o[0]+(t-o[0])/a*i,{values:m,xData:y,yData:g}}}getPivotAndHLC(e){let s=e[e.length-1][3],t=-1/0,a=1/0;return e.forEach(function(o){t=Math.max(t,o[1]),a=Math.min(a,o[2])}),[(t+a+s)/3,t,a,s]}standardPlacement(e){let s=e[1]-e[2];return[null,null,e[0]+s,2*e[0]-e[2],e[0],2*e[0]-e[1],e[0]-s,null,null]}camarillaPlacement(e){let s=e[1]-e[2];return[e[3]+1.5*s,e[3]+1.25*s,e[3]+1.1666*s,e[3]+1.0833*s,e[0],e[3]-1.0833*s,e[3]-1.1666*s,e[3]-1.25*s,e[3]-1.5*s]}fibonacciPlacement(e){let s=e[1]-e[2];return[null,e[0]+s,e[0]+.618*s,e[0]+.382*s,e[0],e[0]-.382*s,e[0]-.618*s,e[0]-s,null]}}Ue.defaultOptions=wo(ys.defaultOptions,{params:{index:void 0,period:28,algorithm:"standard"},marker:{enabled:!1},enableMouseTracking:!1,dataLabels:{enabled:!0,format:"{point.pivotLine}"},dataGrouping:{approximation:"averages"}}),Io(Ue.prototype,{nameBase:"Pivot Points",pointArrayMap:["R4","R3","R2","R1","P","S1","S2","S3","S4"],pointValKey:"P",pointClass:class extends Eo{destroyElements(){gs(this,"destroyElements")}destroy(){gs(this,"destroyElements")}}}),v().registerSeriesType("pivotpoints",Ue);let{ema:xs}=v().seriesTypes,{correctFloat:Bo,extend:Go,merge:zo,error:Wo}=C();class je extends xs{getValues(e,s){let t,a,o=s.periods,d=s.index,r=[],l=[],u=[];if(o.length!==2||o[1]<=o[0])return void Wo('Error: "PPO requires two periods. Notice, first period should be lower than the second one."');let i=super.getValues.call(this,e,{index:d,period:o[0]}),p=super.getValues.call(this,e,{index:d,period:o[1]});if(!i||!p)return;let h=o[1]-o[0];for(a=0;a<p.yData.length;a++)t=Bo((i.yData[a+h]-p.yData[a])/p.yData[a]*100),r.push([p.xData[a],t]),l.push(p.xData[a]),u.push(t);return{values:r,xData:l,yData:u}}}je.defaultOptions=zo(xs.defaultOptions,{params:{period:void 0,periods:[12,26]}}),Go(je.prototype,{nameBase:"PPO",nameComponents:["periods"]}),v().registerSeriesType("ppo",je);let Ze={getArrayExtremes:function(f,e,s){return f.reduce((t,a)=>[Math.min(t[0],a[e]),Math.max(t[1],a[s])],[Number.MAX_VALUE,-Number.MAX_VALUE])}},Ds={colors:["#2caffe","#544fc5","#00e272","#fe6a35","#6b8abc","#d568fb","#2ee0ca","#fa4b42","#feb56a","#91e8e1"]},{sma:vs}=v().seriesTypes,{merge:Yo,extend:Fo}=C();class xe extends vs{getValues(e,s){let t,a,o,d,r,l,u,i=s.period,p=e.xData,h=e.yData,n=h?h.length:0,c=[],m=[],y=[];if(!(n<i)){for(u=i;u<=n;u++)d=p[u-1],r=h.slice(u-i,u),t=((a=(l=Ze.getArrayExtremes(r,2,1))[1])+(o=l[0]))/2,c.push([d,a,t,o]),m.push(d),y.push([a,t,o]);return{values:c,xData:m,yData:y}}}}xe.defaultOptions=Yo(vs.defaultOptions,{params:{index:void 0,period:20},lineWidth:1,topLine:{styles:{lineColor:Ds.colors[2],lineWidth:1}},bottomLine:{styles:{lineColor:Ds.colors[8],lineWidth:1}},dataGrouping:{approximation:"averages"}}),Fo(xe.prototype,{areaLinesNames:["top","bottom"],nameBase:"Price Channel",nameComponents:["period"],linesApiNames:["topLine","bottomLine"],pointArrayMap:["top","middle","bottom"],pointValKey:"middle"}),N.compose(xe),v().registerSeriesType("pc",xe);let{sma:As}=v().seriesTypes,{extend:Xo,isArray:Ro,merge:Ss}=C();class De extends As{init(){super.init.apply(this,arguments),this.options=Ss({topLine:{styles:{lineColor:this.color}},bottomLine:{styles:{lineColor:this.color}}},this.options)}getValues(e,s){let t,a,o,d,r,l,u,i,p=s.period,h=s.topBand,n=s.bottomBand,c=e.xData,m=e.yData,y=m?m.length:0,g=[],x=[],D=[];if(!(c.length<p)&&Ro(m[0])&&m[0].length===4){for(i=p;i<=y;i++)r=c.slice(i-p,i),l=m.slice(i-p,i),d=(u=super.getValues({xData:r,yData:l},s)).xData[0],a=(t=u.yData[0])*(1+h),o=t*(1-n),g.push([d,a,t,o]),x.push(d),D.push([a,t,o]);return{values:g,xData:x,yData:D}}}}De.defaultOptions=Ss(As.defaultOptions,{marker:{enabled:!1},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>Top: {point.top}<br/>Middle: {point.middle}<br/>Bottom: {point.bottom}<br/>'},params:{period:20,topBand:.1,bottomBand:.1},bottomLine:{styles:{lineWidth:1,lineColor:void 0}},topLine:{styles:{lineWidth:1}},dataGrouping:{approximation:"averages"}}),Xo(De.prototype,{areaLinesNames:["top","bottom"],linesApiNames:["topLine","bottomLine"],nameComponents:["period","topBand","bottomBand"],nameBase:"Price envelopes",pointArrayMap:["top","middle","bottom"],parallelArrays:["x","y","top","bottom"],pointValKey:"middle"}),N.compose(De),v().registerSeriesType("priceenvelopes",De);let{sma:bs}=v().seriesTypes,{merge:Ko}=C();function oe(f,e){return parseFloat(f.toFixed(e))}class Cs extends bs{constructor(){super(...arguments),this.nameComponents=void 0}getValues(e,s){let t=e.xData,a=e.yData,o=s.maxAccelerationFactor,d=s.increment,r=s.initialAccelerationFactor,l=s.decimals,u=s.index,i=[],p=[],h=[],n=s.initialAccelerationFactor,c,m=a[0][1],y,g,x,D=1,A,S,b,P,T=a[0][2],E,L,B,M;if(!(u>=a.length)){for(M=0;M<u;M++)m=Math.max(a[M][1],m),T=Math.min(a[M][2],oe(T,l));for(c=a[M][1]>T?1:-1,y=m-T,g=(n=s.initialAccelerationFactor)*y,i.push([t[u],T]),p.push(t[u]),h.push(oe(T,l)),M=u+1;M<a.length;M++)if(A=a[M-1][2],S=a[M-2][2],b=a[M-1][1],P=a[M-2][1],L=a[M][1],B=a[M][2],S!==null&&P!==null&&A!==null&&b!==null&&L!==null&&B!==null){var X,G,V,O,w,te,z,F,R,K,$,q,ne,J,le,U,dt,Te,Qs,ct,ea;w=c,te=D,z=T,F=g,R=S,K=A,$=b,q=P,ne=m,T=w===te?w===1?z+F<Math.min(R,K)?z+F:Math.min(R,K):z+F>Math.max(q,$)?z+F:Math.max(q,$):ne,X=c,G=m,E=X===1?L>G?L:G:B<G?B:G,V=D,O=T,J=x=V===1&&B>O||V===-1&&L>O?1:-1,le=c,U=E,dt=m,Te=n,Qs=d,ct=o,ea=r,g=(n=J===le?J===1&&U>dt||J===-1&&U<dt?Te===ct?ct:oe(Te+Qs,2):Te:ea)*(y=E-T),i.push([t[M],oe(T,l)]),p.push(t[M]),h.push(oe(T,l)),D=c,c=x,m=E}return{values:i,xData:p,yData:h}}}}Cs.defaultOptions=Ko(bs.defaultOptions,{lineWidth:0,marker:{enabled:!0},states:{hover:{lineWidthPlus:0}},params:{period:void 0,initialAccelerationFactor:.02,maxAccelerationFactor:.2,increment:.02,index:2,decimals:4}}),v().registerSeriesType("psar",Cs);let{sma:Ts}=v().seriesTypes,{isArray:Uo,merge:jo,extend:Zo}=C();class _e extends Ts{getValues(e,s){let t=s.period,a=e.xData,o=e.yData,d=o?o.length:0,r=[],l=[],u=[],i,p=-1,h;if(!(a.length<=t)){for(Uo(o[0])&&(p=s.index),i=t;i<d;i++)h=function(n,c,m,y,g){let x,D;return D=g<0?(x=c[m-y])?(c[m]-x)/x*100:null:(x=c[m-y][g])?(c[m][g]-x)/x*100:null,[n[m],D]}(a,o,i,t,p),r.push(h),l.push(h[0]),u.push(h[1]);return{values:r,xData:l,yData:u}}}}_e.defaultOptions=jo(Ts.defaultOptions,{params:{index:3,period:9}}),Zo(_e.prototype,{nameBase:"Rate of Change"}),v().registerSeriesType("roc",_e);let{sma:Ps}=v().seriesTypes,{isNumber:_o,merge:Ho}=C();function H(f,e){return parseFloat(f.toFixed(e))}class Ms extends Ps{getValues(e,s){let t=s.period,a=e.xData,o=e.yData,d=o?o.length:0,r=s.decimals,l=[],u=[],i=[],p=0,h=0,n=s.index,c=1,m,y,g,x,D,A;if(!(a.length<t)){for(_o(o[0])?A=o:(n=Math.min(n,o[0].length-1),A=o.map(S=>S[n]));c<t;)(y=H(A[c]-A[c-1],r))>0?p+=y:h+=Math.abs(y),c++;for(g=H(p/(t-1),r),x=H(h/(t-1),r),D=c;D<d;D++)(y=H(A[D]-A[D-1],r))>0?(p=y,h=0):(p=0,h=Math.abs(y)),g=H((g*(t-1)+p)/t,r),m=(x=H((x*(t-1)+h)/t,r))===0?100:g===0?0:H(100-100/(1+g/x),r),l.push([a[D],m]),u.push(a[D]),i.push(m);return{values:l,xData:u,yData:i}}}}Ms.defaultOptions=Ho(Ps.defaultOptions,{params:{decimals:4,index:3}}),v().registerSeriesType("rsi",Ms);let{sma:Vs}=v().seriesTypes,{extend:$o,isArray:qo,merge:Os}=C();class ve extends Vs{init(){super.init.apply(this,arguments),this.options=Os({smoothedLine:{styles:{lineColor:this.color}}},this.options)}getValues(e,s){let t=s.periods[0],a=s.periods[1],o=e.xData,d=e.yData,r=d?d.length:0,l=[],u=[],i=[],p,h,n,c=null,m,y;if(r<t||!qo(d[0])||d[0].length!==4)return;let g=!0,x=0;for(y=t-1;y<r;y++){if(p=d.slice(y-t+1,y+1),h=(m=Ze.getArrayExtremes(p,2,1))[0],isNaN(n=(d[y][3]-h)/(m[1]-h)*100)&&g){x++;continue}g&&!isNaN(n)&&(g=!1);let D=u.push(o[y]);isNaN(n)?i.push([i[D-2]&&typeof i[D-2][0]=="number"?i[D-2][0]:null,null]):i.push([n,null]),y>=x+(t-1)+(a-1)&&(c=super.getValues({xData:u.slice(-a),yData:i.slice(-a)},{period:a}).yData[0]),l.push([o[y],n,c]),i[D-1][1]=c}return{values:l,xData:u,yData:i}}}ve.defaultOptions=Os(Vs.defaultOptions,{params:{index:void 0,period:void 0,periods:[14,3]},marker:{enabled:!1},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>%K: {point.y}<br/>%D: {point.smoothed}<br/>'},smoothedLine:{styles:{lineWidth:1,lineColor:void 0}},dataGrouping:{approximation:"averages"}}),$o(ve.prototype,{areaLinesNames:[],nameComponents:["periods"],nameBase:"Stochastic",pointArrayMap:["y","smoothed"],parallelArrays:["x","y","smoothed"],pointValKey:"y",linesApiNames:["smoothedLine"]}),N.compose(ve),v().registerSeriesType("stochastic",ve);let{sma:Jo,stochastic:ks}=v().seriesTypes,{extend:Qo,merge:ei}=C();class He extends ks{getValues(e,s){let t=s.periods,a=super.getValues.call(this,e,s),o={values:[],xData:[],yData:[]};if(!a)return;o.xData=a.xData.slice(t[1]-1);let d=a.yData.slice(t[1]-1),r=Jo.prototype.getValues.call(this,{xData:o.xData,yData:d},{index:1,period:t[2]});if(r){for(let l=0,u=o.xData.length;l<u;l++)o.yData[l]=[d[l][1],r.yData[l-t[2]+1]||null],o.values[l]=[o.xData[l],d[l][1],r.yData[l-t[2]+1]||null];return o}}}He.defaultOptions=ei(ks.defaultOptions,{params:{periods:[14,3,3]}}),Qo(He.prototype,{nameBase:"Slow Stochastic"}),v().registerSeriesType("slowstochastic",He);let{atr:ti,sma:$e}=v().seriesTypes,{addEvent:si,correctFloat:Ls,isArray:ai,isNumber:Ae,extend:oi,merge:ie,objectEach:ii}=C();function Se(f,e){return{index:e,close:f.getColumn("close")[e],x:f.getColumn("x")[e]}}class qe extends $e{init(){let e=this;super.init.apply(e,arguments);let s=si(this.chart.constructor,"afterLinkSeries",()=>{if(e.options){let t=e.options;t.cropThreshold=e.linkedParent.options.cropThreshold-(t.params.period-1)}s()},{order:1})}drawGraph(){let e=this,s=e.options,t=e.linkedParent,a=t.getColumn("x"),o=t?t.points:[],d=e.points,r=e.graph,l=o.length-d.length,u=l>0?l:0,i={options:{gapSize:s.gapSize}},p={top:[],bottom:[],intersect:[]},h={top:{styles:{lineWidth:s.lineWidth,lineColor:s.fallingTrendColor||s.color,dashStyle:s.dashStyle}},bottom:{styles:{lineWidth:s.lineWidth,lineColor:s.risingTrendColor||s.color,dashStyle:s.dashStyle}},intersect:s.changeTrendLine},n,c,m,y,g,x,D,A,S,b=d.length;for(;b--;)n=d[b],c=d[b-1],m=o[b-1+u],y=o[b-2+u],g=o[b+u],x=o[b+u+1],D=n.options.color,A={x:n.x,plotX:n.plotX,plotY:n.plotY,isNull:!1},!y&&m&&Ae(a[m.index-1])&&(y=Se(t,m.index-1)),!x&&g&&Ae(a[g.index+1])&&(x=Se(t,g.index+1)),!m&&y&&Ae(a[y.index+1])?m=Se(t,y.index+1):!m&&g&&Ae(a[g.index-1])&&(m=Se(t,g.index-1)),n&&m&&g&&y&&n.x!==m.x&&(n.x===g.x?(y=m,m=g):n.x===y.x?(m=y,y={close:t.getColumn("close")[m.index-1],x:a[m.index-1]}):x&&n.x===x.x&&(m=x,y=g)),c&&y&&m?(S={x:c.x,plotX:c.plotX,plotY:c.plotY,isNull:!1},n.y>=m.close&&c.y>=y.close?(n.color=D||s.fallingTrendColor||s.color,p.top.push(A)):n.y<m.close&&c.y<y.close?(n.color=D||s.risingTrendColor||s.color,p.bottom.push(A)):(p.intersect.push(A),p.intersect.push(S),p.intersect.push(ie(S,{isNull:!0})),n.y>=m.close&&c.y<y.close?(n.color=D||s.fallingTrendColor||s.color,c.color=D||s.risingTrendColor||s.color,p.top.push(A),p.top.push(ie(S,{isNull:!0}))):n.y<m.close&&c.y>=y.close&&(n.color=D||s.risingTrendColor||s.color,c.color=D||s.fallingTrendColor||s.color,p.bottom.push(A),p.bottom.push(ie(S,{isNull:!0}))))):m&&(n.y>=m.close?(n.color=D||s.fallingTrendColor||s.color,p.top.push(A)):(n.color=D||s.risingTrendColor||s.color,p.bottom.push(A)));ii(p,function(P,T){e.points=P,e.options=ie(h[T].styles,i),e.graph=e["graph"+T+"Line"],$e.prototype.drawGraph.call(e),e["graph"+T+"Line"]=e.graph}),e.points=d,e.options=s,e.graph=r}getValues(e,s){let t=s.period,a=s.multiplier,o=e.xData,d=e.yData,r=[],l=[],u=[],i=t===0?0:t-1,p=[],h=[],n=[],c,m,y,g,x,D,A,S,b;if(!(o.length<=t)&&ai(d[0])&&d[0].length===4&&!(t<0)){for(b=0,n=ti.prototype.getValues.call(this,e,{period:t}).yData;b<n.length;b++)S=d[i+b],A=d[i+b-1]||[],g=p[b-1],x=h[b-1],D=u[b-1],b===0&&(g=x=D=0),c=Ls((S[1]+S[2])/2+a*n[b]),m=Ls((S[1]+S[2])/2-a*n[b]),c<g||A[3]>g?p[b]=c:p[b]=g,m>x||A[3]<x?h[b]=m:h[b]=x,D===g&&S[3]<p[b]||D===x&&S[3]<h[b]?y=p[b]:(D===g&&S[3]>p[b]||D===x&&S[3]>h[b])&&(y=h[b]),r.push([o[i+b],y]),l.push(o[i+b]),u.push(y);return{values:r,xData:l,yData:u}}}}qe.defaultOptions=ie($e.defaultOptions,{params:{index:void 0,multiplier:3,period:10},risingTrendColor:"#06b535",fallingTrendColor:"#f21313",changeTrendLine:{styles:{lineWidth:1,lineColor:"#333333",dashStyle:"LongDash"}}}),oi(qe.prototype,{nameBase:"Supertrend",nameComponents:["multiplier","period"]}),v().registerSeriesType("supertrend",qe);let{sma:{prototype:{pointClass:ri}}}=v().seriesTypes,ni=class extends ri{destroy(){this.negativeGraphic&&(this.negativeGraphic=this.negativeGraphic.destroy()),super.destroy.apply(this,arguments)}},{animObject:li}=C(),{noop:Es}=C(),{column:{prototype:re},sma:ws}=v().seriesTypes,{addEvent:Je,arrayMax:Is,arrayMin:pi,correctFloat:Qe,defined:Ns,error:et,extend:Bs,isArray:ui,merge:hi}=C(),ee=Math.abs;class tt extends ws{init(e,s){let t=this;delete s.data,super.init.apply(t,arguments);let a=Je(this.chart.constructor,"afterLinkSeries",function(){if(t.options){let o=t.options.params,d=t.linkedParent,r=e.get(o.volumeSeriesID);t.addCustomEvents(d,r)}a()},{order:1});return t}addCustomEvents(e,s){let t=this,a=()=>{t.chart.redraw(),t.setData([]),t.zoneStarts=[],t.zoneLinesSVG&&(t.zoneLinesSVG=t.zoneLinesSVG.destroy())};return t.dataEventsToUnbind.push(Je(e,"remove",function(){a()})),s&&t.dataEventsToUnbind.push(Je(s,"remove",function(){a()})),t}animate(e){let s=this,t=s.chart.inverted,a=s.group,o={};if(!e&&a){let d=t?s.yAxis.top:s.xAxis.left;t?(a["forceAnimate:translateY"]=!0,o.translateY=d):(a["forceAnimate:translateX"]=!0,o.translateX=d),a.animate(o,Bs(li(s.options.animation),{step:function(r,l){s.group.attr({scaleX:Math.max(.001,l.pos)})}}))}}drawPoints(){this.options.volumeDivision.enabled&&(this.posNegVolume(!0,!0),re.drawPoints.apply(this,arguments),this.posNegVolume(!1,!1)),re.drawPoints.apply(this,arguments)}posNegVolume(e,s){let t=s?["positive","negative"]:["negative","positive"],a=this.options.volumeDivision,o=this.points.length,d=[],r=[],l=0,u,i,p,h;for(e?(this.posWidths=d,this.negWidths=r):(d=this.posWidths,r=this.negWidths);l<o;l++)(h=this.points[l])[t[0]+"Graphic"]=h.graphic,h.graphic=h[t[1]+"Graphic"],e&&(u=h.shapeArgs.width,(p=(i=this.priceZones[l]).wholeVolumeData)?(d.push(u/p*i.positiveVolumeData),r.push(u/p*i.negativeVolumeData)):(d.push(0),r.push(0))),h.color=s?a.styles.positiveColor:a.styles.negativeColor,h.shapeArgs.width=s?this.posWidths[l]:this.negWidths[l],h.shapeArgs.x=s?h.shapeArgs.x:this.posWidths[l]}translate(){let e=this,s=e.options,t=e.chart,a=e.yAxis,o=a.min,d=e.options.zoneLines,r=e.priceZones,l=0,u,i,p,h,n,c,m,y,g,x;re.translate.apply(e);let D=e.points;D.length&&(m=s.pointPadding<.5?s.pointPadding:.1,u=Is(e.volumeDataArray),i=t.plotWidth/2,y=t.plotTop,p=ee(a.toPixels(o)-a.toPixels(o+e.rangeStep)),n=ee(a.toPixels(o)-a.toPixels(o+e.rangeStep)),m&&(h=ee(p*(1-2*m)),l=ee((p-h)/2),p=ee(h)),D.forEach(function(A,S){g=A.barX=A.plotX=0,x=A.plotY=a.toPixels(r[S].start)-y-(a.reversed?p-n:p)-l,A.pointWidth=c=Qe(i*r[S].wholeVolumeData/u),A.shapeArgs=e.crispCol.apply(e,[g,x,c,p]),A.volumeNeg=r[S].negativeVolumeData,A.volumePos=r[S].positiveVolumeData,A.volumeAll=r[S].wholeVolumeData}),d.enabled&&e.drawZones(t,a,e.zoneStarts,d.styles))}getExtremes(){let e,s=this.options.compare,t=this.options.cumulative;return this.options.compare?(this.options.compare=void 0,e=super.getExtremes(),this.options.compare=s):this.options.cumulative?(this.options.cumulative=!1,e=super.getExtremes(),this.options.cumulative=t):e=super.getExtremes(),e}getValues(e,s){let t=e.getColumn("x",!0),a=e.processedYData,o=this.chart,d=s.ranges,r=[],l=[],u=[],i=o.get(s.volumeSeriesID);if(!e.chart)return void et("Base series not found! In case it has been removed, add a new one.",!0,o);if(!i||!i.getColumn("x",!0).length){let h=i&&!i.getColumn("x",!0).length?" does not contain any data.":" not found! Check `volumeSeriesID`.";et("Series "+s.volumeSeriesID+h,!0,o);return}let p=ui(a[0]);return p&&a[0].length!==4?void et("Type of "+e.name+" series is different than line, OHLC or candlestick.",!0,o):((this.priceZones=this.specifyZones(p,t,a,d,i)).forEach(function(h,n){r.push([h.x,h.end]),l.push(r[n][0]),u.push(r[n][1])}),{values:r,xData:l,yData:u})}specifyZones(e,s,t,a,o){let d=!!e&&function(y){let g=y.length,x=y[0][3],D=x,A=1,S;for(;A<g;A++)(S=y[A][3])<x&&(x=S),S>D&&(D=S);return{min:x,max:D}}(t),r=this.zoneStarts=[],l=[],u=d?d.min:pi(t),i=d?d.max:Is(t),p=0,h=1,n=this.linkedParent;if(!this.options.compareToMain&&n.dataModify&&(u=n.dataModify.modifyValue(u),i=n.dataModify.modifyValue(i)),!Ns(u)||!Ns(i))return this.points.length&&(this.setData([]),this.zoneStarts=[],this.zoneLinesSVG&&(this.zoneLinesSVG=this.zoneLinesSVG.destroy())),[];let c=this.rangeStep=Qe(i-u)/a;for(r.push(u);p<a-1;p++)r.push(Qe(r[p]+c));r.push(i);let m=r.length;for(;h<m;h++)l.push({index:h-1,x:s[0],start:r[h-1],end:r[h]});return this.volumePerZone(e,l,o,s,t)}volumePerZone(e,s,t,a,o){let d,r,l,u,i,p=this,h=t.getColumn("x",!0),n=t.getColumn("y",!0),c=s.length-1,m=o.length,y=n.length;return ee(m-y)&&(a[0]!==h[0]&&n.unshift(0),a[m-1]!==h[y-1]&&n.push(0)),p.volumeDataArray=[],s.forEach(function(g){for(i=0,g.wholeVolumeData=0,g.positiveVolumeData=0,g.negativeVolumeData=0;i<m;i++){r=!1,l=!1,u=e?o[i][3]:o[i],d=i?e?o[i-1][3]:o[i-1]:u;let x=p.linkedParent;!p.options.compareToMain&&x.dataModify&&(u=x.dataModify.modifyValue(u),d=x.dataModify.modifyValue(d)),u<=g.start&&g.index===0&&(r=!0),u>=g.end&&g.index===c&&(l=!0),(u>g.start||r)&&(u<g.end||l)&&(g.wholeVolumeData+=n[i],d>u?g.negativeVolumeData+=n[i]:g.positiveVolumeData+=n[i])}p.volumeDataArray.push(g.wholeVolumeData)}),s}drawZones(e,s,t,a){let o=e.renderer,d=e.plotWidth,r=e.plotTop,l=this.zoneLinesSVG,u=[],i;t.forEach(function(p){i=s.toPixels(p)-r,u=u.concat(e.renderer.crispLine([["M",0,i],["L",d,i]],a.lineWidth))}),l?l.animate({d:u}):l=this.zoneLinesSVG=o.path(u).attr({"stroke-width":a.lineWidth,stroke:a.color,dashstyle:a.dashStyle,zIndex:this.group.zIndex+.1}).add(this.group)}}tt.defaultOptions=hi(ws.defaultOptions,{params:{index:void 0,period:void 0,ranges:12,volumeSeriesID:"volume"},zoneLines:{enabled:!0,styles:{color:"#0A9AC9",dashStyle:"LongDash",lineWidth:1}},volumeDivision:{enabled:!0,styles:{positiveColor:"rgba(144, 237, 125, 0.8)",negativeColor:"rgba(244, 91, 91, 0.8)"}},animationLimit:1e3,enableMouseTracking:!1,pointPadding:0,zIndex:-1,crisp:!0,dataGrouping:{enabled:!1},dataLabels:{align:"left",allowOverlap:!0,enabled:!0,format:"P: {point.volumePos:.2f} | N: {point.volumeNeg:.2f}",padding:0,style:{fontSize:"0.5em"},verticalAlign:"top"}}),Bs(tt.prototype,{nameBase:"Volume by Price",nameComponents:["ranges"],calculateOn:{chart:"render",xAxis:"afterSetExtremes"},pointClass:ni,markerAttribs:Es,drawGraph:Es,getColumnMetrics:re.getColumnMetrics,crispCol:re.crispCol}),v().registerSeriesType("vbp",tt);let{sma:Gs}=v().seriesTypes,{error:di,isArray:ci,merge:mi}=C();class zs extends Gs{getValues(e,s){let t=e.chart,a=e.xData,o=e.yData,d=s.period,r=!0,l;return(l=t.get(s.volumeSeriesID))?(ci(o[0])||(r=!1),this.calculateVWAPValues(r,a,o,l,d)):void di("Series "+s.volumeSeriesID+" not found! Check `volumeSeriesID`.",!0,t)}calculateVWAPValues(e,s,t,a,o){let d,r,l,u,i,p,h=a.getColumn("y"),n=h.length,c=s.length,m=[],y=[],g=[],x=[],D=[];for(i=0,d=c<=n?c:n,p=0;i<d;i++)r=(e?(t[i][1]+t[i][2]+t[i][3])/3:t[i])*h[i],l=p?m[i-1]+r:r,u=p?y[i-1]+h[i]:h[i],m.push(l),y.push(u),D.push([s[i],l/u]),g.push(D[i][0]),x.push(D[i][1]),++p===o&&(p=0);return{values:D,xData:g,yData:x}}}zs.defaultOptions=mi(Gs.defaultOptions,{params:{index:void 0,period:30,volumeSeriesID:"volume"}}),v().registerSeriesType("vwap",zs);let{sma:Ws}=v().seriesTypes,{extend:gi,isArray:yi,merge:fi}=C();class st extends Ws{getValues(e,s){let t,a,o,d,r,l,u=s.period,i=e.xData,p=e.yData,h=p?p.length:0,n=[],c=[],m=[];if(!(i.length<u)&&yi(p[0])&&p[0].length===4){for(l=u-1;l<h;l++)t=p.slice(l-u+1,l+1),r=(a=Ze.getArrayExtremes(t,2,1))[0],o=-(((d=a[1])-p[l][3])/(d-r)*100),i[l]&&(n.push([i[l],o]),c.push(i[l]),m.push(o));return{values:n,xData:c,yData:m}}}}st.defaultOptions=fi(Ws.defaultOptions,{params:{index:void 0,period:14}}),gi(st.prototype,{nameBase:"Williams %R"}),v().registerSeriesType("williamsr",st);let{sma:Ys}=v().seriesTypes,{isArray:xi,merge:Di}=C();function Fs(f,e,s,t,a){let o=e[t],d=a<0?s[t]:s[t][a];f.push([o,d])}function Xs(f,e,s,t){let a=f.length,o=f.reduce(function(r,l,u){return[null,r[1]+l[1]*(u+1)]})[1]/((a+1)/2*a),d=e[t-1];return f.shift(),[d,o]}class Rs extends Ys{getValues(e,s){let t=s.period,a=e.xData,o=e.yData,d=o?o.length:0,r=a[0],l=[],u=[],i=[],p=1,h=-1,n,c,m=o[0];if(a.length<t)return;xi(o[0])&&(h=s.index,m=o[0][h]);let y=[[r,m]];for(;p!==t;)Fs(y,a,o,p,h),p++;for(n=p;n<d;n++)l.push(c=Xs(y,a,o,n)),u.push(c[0]),i.push(c[1]),Fs(y,a,o,n,h);return l.push(c=Xs(y,a,o,n)),u.push(c[0]),i.push(c[1]),{values:l,xData:u,yData:i}}}Rs.defaultOptions=Di(Ys.defaultOptions,{params:{index:3,period:9}}),v().registerSeriesType("wma",Rs);let{sma:Ks}=v().seriesTypes,{merge:vi,extend:Ai}=C();class at extends Ks{getValues(e,s){let t=s.lowIndex,a=s.highIndex,o=s.deviation/100,d={low:1+o,high:1-o},r=e.xData,l=e.yData,u=l?l.length:0,i=[],p=[],h=[],n,c,m,y,g=!1,x=!1;if(!r||r.length<=1||u&&(l[0][t]===void 0||l[0][a]===void 0))return;let D=l[0][t],A=l[0][a];for(n=1;n<u;n++)l[n][t]<=A*d.high?(i.push([r[0],A]),m=[r[n],l[n][t]],y=!0,g=!0):l[n][a]>=D*d.low&&(i.push([r[0],D]),m=[r[n],l[n][a]],y=!1,g=!0),g&&(p.push(i[0][0]),h.push(i[0][1]),c=n++,n=u);for(n=c;n<u;n++)y?(l[n][t]<=m[1]&&(m=[r[n],l[n][t]]),l[n][a]>=m[1]*d.low&&(x=a)):(l[n][a]>=m[1]&&(m=[r[n],l[n][a]]),l[n][t]<=m[1]*d.high&&(x=t)),x!==!1&&(i.push(m),p.push(m[0]),h.push(m[1]),m=[r[n],l[n][x]],y=!y,x=!1);let S=i.length;return S!==0&&i[S-1][0]<r[u-1]&&(i.push(m),p.push(m[0]),h.push(m[1])),{values:i,xData:p,yData:h}}}at.defaultOptions=vi(Ks.defaultOptions,{params:{index:void 0,period:void 0,lowIndex:2,highIndex:1,deviation:1}}),Ai(at.prototype,{nameComponents:["deviation"],nameSuffixes:["%"],nameBase:"Zig Zag"}),v().registerSeriesType("zigzag",at);let{sma:Us}=v().seriesTypes,{isArray:ot,extend:Si,merge:bi}=C();class it extends Us{getRegressionLineParameters(e,s){let t=this.options.params.index,a=function(c,m){return ot(c)?c[m]:c},o=e.reduce(function(c,m){return m+c},0),d=s.reduce(function(c,m){return a(m,t)+c},0),r=o/e.length,l=d/s.length,u,i,p=0,h=0;for(i=0;i<e.length;i++)p+=(u=e[i]-r)*(a(s[i],t)-l),h+=Math.pow(u,2);let n=h?p/h:0;return{slope:n,intercept:l-n*r}}getEndPointY(e,s){return e.slope*s+e.intercept}transformXData(e,s){let t=e[0];return e.map(function(a){return(a-t)/s})}findClosestDistance(e){let s,t,a;for(a=1;a<e.length-1;a++)(s=e[a]-e[a-1])>0&&(t===void 0||s<t)&&(t=s);return t}getValues(e,s){let t,a,o,d,r,l,u,i,p,h=e.xData,n=e.yData,c=s.period,m={xData:[],yData:[],values:[]},y=this.options.params.xAxisUnit||this.findClosestDistance(h);for(a=c-1;a<=h.length-1;a++)o=a-c+1,d=a+1,r=h[a],u=h.slice(o,d),i=n.slice(o,d),p=this.transformXData(u,y),t=this.getRegressionLineParameters(p,i),l=this.getEndPointY(t,p[p.length-1]),m.values.push({regressionLineParameters:t,x:r,y:l}),ot(m.xData)&&m.xData.push(r),ot(m.yData)&&m.yData.push(l);return m}}it.defaultOptions=bi(Us.defaultOptions,{params:{xAxisUnit:null},tooltip:{valueDecimals:4}}),Si(it.prototype,{nameBase:"Linear Regression Indicator"}),v().registerSeriesType("linearRegression",it);let{linearRegression:js}=v().seriesTypes,{extend:Ci,merge:Ti}=C();class rt extends js{getEndPointY(e){return e.slope}}rt.defaultOptions=Ti(js.defaultOptions),Ci(rt.prototype,{nameBase:"Linear Regression Slope Indicator"}),v().registerSeriesType("linearRegressionSlope",rt);let{linearRegression:Zs}=v().seriesTypes,{extend:Pi,merge:Mi}=C();class nt extends Zs{getEndPointY(e){return e.intercept}}nt.defaultOptions=Mi(Zs.defaultOptions),Pi(nt.prototype,{nameBase:"Linear Regression Intercept Indicator"}),v().registerSeriesType("linearRegressionIntercept",nt);let{linearRegression:_s}=v().seriesTypes,{extend:Vi,merge:Oi}=C();class lt extends _s{slopeToAngle(e){return 180/Math.PI*Math.atan(e)}getEndPointY(e){return this.slopeToAngle(e.slope)}}lt.defaultOptions=Oi(_s.defaultOptions,{tooltip:{pointFormat:'<span style="color:{point.color}">●</span>{series.name}: <b>{point.y}°</b><br/>'}}),Vi(lt.prototype,{nameBase:"Linear Regression Angle Indicator"}),v().registerSeriesType("linearRegressionAngle",lt);let{sma:Hs}=v().seriesTypes,{correctFloat:be,extend:ki,merge:Li}=C();class Ce extends Hs{getValues(e,s){let t,a,o,d,r,l,u,i,p,h,n,c=s.period,m=s.factor,y=s.index,g=e.xData,x=e.yData,D=x?x.length:0,A=[],S=[],b=[],P=[],T=[];if(!(D<c)){for(n=0;n<=D;n++){if(n<D){var E,L;E=x[n][2],L=x[n][1],r=be(L-E)/(be(L+E)/2)*1e3*m,A.push(x[n][1]*be(1+2*r)),S.push(x[n][2]*be(1-2*r))}n>=c&&(p=g.slice(n-c,n),h=x.slice(n-c,n),u=super.getValues.call(this,{xData:p,yData:A.slice(n-c,n)},{period:c}),i=super.getValues.call(this,{xData:p,yData:S.slice(n-c,n)},{period:c}),d=(l=super.getValues.call(this,{xData:p,yData:h},{period:c,index:y})).xData[0],a=u.yData[0],o=i.yData[0],t=l.yData[0],b.push([d,a,t,o]),P.push(d),T.push([a,t,o]))}return{values:b,xData:P,yData:T}}}}Ce.defaultOptions=Li(Hs.defaultOptions,{params:{period:20,factor:.001,index:3},lineWidth:1,topLine:{styles:{lineWidth:1}},bottomLine:{styles:{lineWidth:1}},dataGrouping:{approximation:"averages"}}),ki(Ce.prototype,{areaLinesNames:["top","bottom"],linesApiNames:["topLine","bottomLine"],nameBase:"Acceleration Bands",nameComponents:["period","factor"],pointArrayMap:["top","middle","bottom"],pointValKey:"middle"}),N.compose(Ce),v().registerSeriesType("abands",Ce);let{sma:$s}=v().seriesTypes,{extend:Ei,merge:wi,isArray:qs}=C();class pt extends $s{constructor(){super(...arguments),this.updateAllPoints=!0}getValues(e,s){let t=e.xData,a=e.yData,o=[],d=[],r=[],l=[],u=s.index,i=0,p=0,h=0,n=0,c=0;for(let g=0;g<t.length;g++)(g===0||t[g]!==t[g-1])&&c++,o.push(c);for(let g=0;g<o.length;g++)h+=o[g],n+=qs(a[g])?a[g][u]:a[g];let m=h/o.length,y=n/a.length;for(let g=0;g<o.length;g++){let x=qs(a[g])?a[g][u]:a[g];i+=(o[g]-m)*(x-y),p+=Math.pow(o[g]-m,2)}for(let g=0;g<o.length;g++){if(t[g]===r[r.length-1])continue;let x=t[g],D=y+i/p*(o[g]-m);d.push([x,D]),r.push(x),l.push(D)}return{xData:r,yData:l,values:d}}}pt.defaultOptions=wi($s.defaultOptions,{params:{period:void 0,index:3}}),Ei(pt.prototype,{nameBase:"Trendline",nameComponents:void 0}),v().registerSeriesType("trendline",pt);let{sma:ut}=v().seriesTypes,{correctFloat:Ii,defined:Ni,extend:Bi,isArray:Gi,merge:zi}=C();class ht extends ut{init(){let e=arguments,s=e[1].params,t=s&&s.average?s.average:void 0;this.averageIndicator=v().seriesTypes[t]||ut,this.averageIndicator.prototype.init.apply(this,e)}calculateDisparityIndex(e,s){return Ii(e-s)/s*100}getValues(e,s){let t=s.index,a=e.xData,o=e.yData,d=o?o.length:0,r=[],l=[],u=[],i=this.averageIndicator,p=Gi(o[0]),h=i.prototype.getValues(e,s),n=h.yData,c=a.indexOf(h.xData[0]);if(n&&n.length!==0&&Ni(t)&&!(o.length<=c)){for(let m=c;m<d;m++){let y=this.calculateDisparityIndex(p?o[m][t]:o[m],n[m-c]);r.push([a[m],y]),l.push(a[m]),u.push(y)}return{values:r,xData:l,yData:u}}}}ht.defaultOptions=zi(ut.defaultOptions,{params:{average:"sma",index:3},marker:{enabled:!1},dataGrouping:{approximation:"averages"}}),Bi(ht.prototype,{nameBase:"Disparity Index",nameComponents:["period","average"]}),v().registerSeriesType("disparityindex",ht);let Js=C();Js.MultipleLinesComposition=Js.MultipleLinesComposition||N;let Wi=C();return gt.default})())})(ta);var sa=ta.exports;const Ri=Yi(sa),ji=Xi({__proto__:null,default:Ri},[sa]);export{ji as i};
